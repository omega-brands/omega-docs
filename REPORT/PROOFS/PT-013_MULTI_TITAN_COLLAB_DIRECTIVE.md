# PT-013 — Multi-Titan Collaboration (Proof-Backed Workflow Policy Pack)\n\n**Mission:**\nProve **multi-Titan collaboration under FC-governed workflows** with **action-level attribution**, **thin receipts**, **RHID pointers**, and a bundle that is both:\n1. **Read-only drilldown attribution** (\"who did what\")\n2. **Evidence Pack minting path** (manifest + receipts + immutable objects)\n\n**Rule of Law:** No mocks. No emulators. No vibes.\nEverything routes through **Federation Core**, produces **container logs**, **receipts**, and **evidence artifacts**.\n\n---\n\n## What PT-013 Proves (Delta from PT-005)\n\nPT-005 proved human-in-the-loop governance is first-class.\n**PT-013 proves multiple Titans can collaborate under FC governance with auditable attribution.**\n\nSpecifically:\n\n* Titans coordinate through FC-governed workflows\n* Each action is attributed to actor (Titan, tool, human)\n* Receipts are thin (RHID-first, heavy payloads in objects)\n* RHID manifest maps every reference to storage location\n* Workflow produces sealed bundle ready for Evidence Pack minting\n\n---\n\n## Canonical Collaboration Flow\n\n```\nTitan A: normalize → work_order.json (RHID)\n  ↓\nTitan B: plan → plan.json (RHID)\n  ↓\nTool: policy eval → policy evidence (RHID)\n  ↓\nTitan C: build → blueprint.yaml, policies.yaml (RHIDs)\n  ↓\nTitan D: audit/validate → audit report (RHID)\n  ↓\nGATE_REQUIRED: human approve/deny\n  ↓\nSeal: manifest + receipts + ledger finalized\n```\n\nNo step continues after denial.\n\n---\n\n## Required Artifacts\n\n### Collaboration Ledger\n**File:** `collaboration_ledger.jsonl`\n\nEach line is one **Action** with:\n* `action_id`, `run_id`, `request_id`, `step_id`, `seq`\n* `actor`: `{ actor_type, actor_id, capabilities[] }`\n* `action_type`: propose|transform|decide|execute|validate|gate_request|gate_resolve|seal\n* `inputs[]` RHIDs, `outputs[]` RHIDs\n* `receipt_rhid`\n* `policy`: `{ policy_id, tier, decision, policy_evidence_rhid }`\n* `timestamps`: started_at, ended_at\n* `prev_action_hash` (for chaining)\n\n### Thin Receipts\n**Location:** `evidence/receipts/`\n\nEach receipt includes:\n* join keys: run_id, request_id, step_id, action_id\n* actor_id, actor_type, action_type\n* input_rhids[], output_rhids[]\n* policy_decision_rhid (nullable)\n* receipt_hash, prev_receipt_hash\n* signature + created_at\n\n### RHID Manifest\n**File:** `evidence/manifest.json`\n\nEntry for every RHID:\n* rhid, sha256, content_type, size_bytes, storage_uri\n* created_by_actor_id, created_at\n\n---\n\n## Required Tests\n\n### Test A: Happy Path\n**Goal:** Multi-Titan collaboration with gate approval → sealed bundle\n\n**Expected:**\n* ≥3 distinct Titan actor_ids in ledger\n* ≥1 tool invocation action\n* gate_request + gate_resolve actions\n* 100% RHID resolution via manifest\n* receipt chain integrity verified\n* final_artifact.md exists and is referenced by RHID\n\n**Result**: [PENDING]\n\n### Test B: Gate Deny\n**Goal:** Gate denial stops workflow, produces evidence showing stop reason\n\n**Expected:**\n* Workflow halts at gate\n* gate_resolve action with decision=deny\n* No further actions after denial\n* Evidence shows rejection reason\n* Receipts capture denial timestamp\n\n**Result**: [PENDING]\n\n### Test C: Titan Failure\n**Goal:** Fail-closed semantics with receipts when Titan fails\n\n**Expected:**\n* Titan timeout or invalid output detected\n* Workflow transitions to FAILED\n* Receipts capture failure reason\n* Evidence shows which Titan failed and why\n\n**Result**: [PENDING]\n\n---\n\n## Success Criteria\n\n* [PASS] ≥3 distinct Titan actor_ids in ledger\n* [PASS] ≥1 tool invocation action in ledger\n* [PASS] gate_request + gate_resolve actions exist\n* [PASS] 100% RHID resolution via manifest (no missing RHIDs)\n* [PASS] receipt chain integrity verifies (prev_receipt_hash)\n* [PASS] final_artifact.md exists and is referenced by RHID\n* [PASS] All three tests pass (happy path, gate deny, titan failure)\n\n---\n\n## What PT-013 Unlocks\n\n* **PT-014:** Genesis spawning with human-governed birth events\n* **Evidence Pack Minting:** Formal audit trail generation\n* **Multi-Titan Governance:** Provable collaboration at scale\n\n---\n\n## One Line of Truth\n\n> **Attribution without receipts is theater.\n> Receipts without RHIDs are noise.\n> RHIDs without manifest are promises.**\n\nYou're not building collaboration.\nYou're building **Auditable Coordination**.\n\nThis is the way. [PANTHEON]\n"
